<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>函数式组件使用props</title>
</head>
<body>
  <!--准备好一个容器-->
  <div id="test1"></div>
  <div id="test2"></div>
  <div id="test3"></div>

  <!--引入react核心库-->
  <script src="../js/react.development.js"></script>
  <!--引入react-dom，用于支持react操作DOM-->
  <script src="../js/react-dom.development.js"></script>
  <!--引入babel，用于将jsx转换为js-->
  <script src="../js/babel.min.js"></script>
  <!--引入prop-types，用于对组件标签属性进行限制-->
  <script src="../js/prop-types.js"></script>

  <!--此处一定要写babel-->
  <script type="text/babel">
    //创建组件
    // class Person extends React.Component {
    //
    //   //对标签属性进行类型、必要性的限制
    //   static propTypes = {
    //     name: PropTypes.string.isRequired,    //限制name必传，且为字符串
    //     sex: PropTypes.string,    //限制sex为字符串
    //     age: PropTypes.number,    //限制age为数值
    //     speak: PropTypes.func     //限制speak为函数
    //   }
    //
    //   //指定默认标签属性值
    //   static defaultProps = {
    //     sex: '男',    //sex默认值为男
    //     age: 10       //age默认值为10
    //   }
    //
    //   // state = {
    //   //   name: 'tom',
    //   //   age: 19,
    //   //   sex: '女'
    //   // }
    //
    //   render() {
    //     console.log(this)
    //
    //     const {name, age, sex} = this.props
    //     //props是只读的
    //     // this.props.name = 'jack' //此行代码会报错，因为props是只读的
    //
    //     return (
    //       <ul>
    //         <li>姓名：{name}</li>
    //         <li>性别：{age + 1}</li>
    //         <li>年龄：{sex}</li>
    //       </ul>
    //     )
    //   }
    // }

    function Person(props) {
      const {name, age, sex} = props
      return (
        <ul>
          <li>姓名：{name}</li>
          <li>性别：{age + 1}</li>
          <li>年龄：{sex}</li>
        </ul>
      )
    }

    Person.propTypes = {
      name: PropTypes.string.isRequired,    //限制name必传，且为字符串
      sex: PropTypes.string,    //限制sex为字符串
      age: PropTypes.number,    //限制age为数值
      speak: PropTypes.func     //限制speak为函数
    }

    //指定默认标签属性值
    Person.defaultProps = {
      sex: '男',    //sex默认值为男
      age: 10       //age默认值为10
    }

    //渲染组件到页面
    ReactDOM.render(<Person name="tom" age={18} speak={speak}/>, document.getElementById('test1'))
    ReactDOM.render(<Person name="jerry" sex="男"/>, document.getElementById('test2'))
    // ReactDOM.render(<Person name="lulu" age="19" sex="女"/>, document.getElementById('test3'))

    const p = {name: '老刘', age: 19, sex: '女'}
    ReactDOM.render(<Person {...p}/>, document.getElementById('test3'))

    function speak() {
      console.log('我说话了')
    }
  </script>
</body>
</html>